<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- 4.15.6-GA -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="combined.css"/>
    <script src="split/split.min.js"></script>
    <link rel="stylesheet" href="inline_styles.css"/>
    <style type="text/css">
        /* <![CDATA[ */
            
        /* ]]> */
    </style>
</head>
<body>

<div class="full-height-container">
<div id="sidebar" class="split">
<div class="navgroup" id="search">
<form action="search.html" class="aui">
<input type="text" name="q" id="tipue_search_input" class="medium-field text">
<input class="button submit" type="submit" value="Search"></form>
</div>
<div class="navgroup" id="navigation">
<ul><li><span><a href="page378733115.html">003_How-to articles</a></span><input type="checkbox" checked/><ul><li><span><a href="page378083193.html">001_How to 搭建 virtual box 虚拟机TAF环境</a></span></li><li><span><a href="page684934474.html">001_trace traffic CLI user guide</a></span></li><li><span><a href="page378733060.html">002_How to配置 vFPC上的eth口和IP地址以及路由</a></span></li><li><span><a href="page378733094.html">003_How to run using new TAF</a></span></li><li><span><a href="page378734659.html">004_How to compile RCP subsystems</a></span></li><li><span><a href="page381296667.html">008_How to run cases in CI for mcRNC</a></span></li><li><span><a href="page381300257.html">009_How to mapping IL build to APP build</a></span></li><li><span><a href="page381300932.html">010_How to write python keyword via eclipse</a></span></li><li><span><a href="page404396307.html">012_How to create AMR call on RNC</a></span></li><li><span><a href="page382604403.html">013_How to configure traffic env on CloudIL</a></span></li><li><span><a href="page384534260.html">014_How to vRNC prb编译&打patch方法</a></span></li><li><span><a href="page385645780.html">015_How to run FT case on vFPC</a></span></li><li><span><a href="page386635558.html">016_How to handle Customer pronto</a></span></li><li><span><a href="page401455707.html">018_How to investigate deamon execute fail</a></span></li><li><span><a href="page419208059.html">023_How to Install Package On Cloud</a></span></li><li><span><a href="page417877522.html">023_how to use wireshark</a></span></li><li><span><a href="page427532291.html">025_How to patch for IL Iu/lub signaling PRBs and RPM</a></span></li><li><span><a href="page427549312.html">027_How to modify yaml file and scale out one USPU</a></span></li><li><span><a href="page404421333.html">029_how to debug SS_ILEITP in SE node</a></span></li><li><span><a href="page429277551.html">030_how to rebuild to the newest image for ESPOO EEcloud vFPC</a></span></li><li><span><a href="page430502064.html">031_How to manually run signaling case for mcRNC and vRNC</a></span></li><li><span><a href="page437136800.html">032_How to install a 64bit FPC</a></span></li><li><span><a href="page437137963.html">033_How to trace code modification in CCI static analysis and CCI FT</a></span><input type="checkbox"/><ul><li><span><a href="page453839101.html">CCI Knowledge Base</a></span></li></ul></li><li><span><a href="page437138243.html">034_How to use CI tool run CloudIL CRT</a></span></li><li><span><a href="page438109030.html">035_vRNC 安装&Troubleshooting</a></span></li><li><span><a href="page446369400.html">036_How to apply for a new PRB and let its running</a></span></li><li><span><a href="page450477479.html">037_how to configure VRF in CloudIL</a></span></li><li><span><a href="page452973625.html">038_How to add SCLI command on RCP1.0</a></span></li><li><span><a href="page453842966.html">039_How to deploy  RCP  stack</a></span></li><li><span><a href="page474054977.html">041_How to rebase feature branch with trunk</a></span></li><li><span><a href="page476307430.html">042_How to set SCLI to unsupported_cmds</a></span></li><li><span><a href="page485405903.html">043_How to create docker env</a></span></li><li><span>043_Performance_capacity_test</span></li><li><span><a href="page488098222.html">044_How to Send Traffic on CloudIL</a></span></li><li><span><a href="page493867047.html">044 cm develop guide</a></span></li><li><span><a href="page505418768.html">045_How to update message parameter in SS_ILICL</a></span></li><li><span><a href="page512838087.html">046_How_to_install_RCP2.0</a></span></li><li><span><a href="page750730769.html">047_RCP2.0 node deployment 启动服务查询方法</a></span></li><li><span><a href="page514148913.html">048_How to delete the duplicate tabs in the robot test case file</a></span></li><li><span><a href="page531054245.html">049_How to do upgrade and rollback for RCP2.0</a></span></li><li><span><a href="page548560935.html">050_How To Use The TestCenter</a></span></li><li><span><a href="page548566818.html">051_How to install the RCP2.0 use the scripts</a></span></li><li><span><a href="page548566912.html">052_How to run ut in the FPC</a></span></li><li><span><a href="page548566936.html">053_How to add soft link for the TRHRobotTest test cases</a></span></li><li><span><a href="page548566974.html">054_Usefull examples for write robot cases</a></span></li><li><span><a href="page548567083.html">055_How to setup the upgrade test case env</a></span></li><li><span><a href="page548567345.html">056_How to send 5G traffic on FPC</a></span></li><li><span><a href="page772764400.html">057_How figure out the responsible team via the service name</a></span></li><li><span><a href="page623670270.html">057_How to send 4G traffic on FPC</a></span></li><li><span><a href="page774277262.html">058_How to create koji env</a></span></li><li><span><a href="page759532258.html">058 how to check fp-rte and CCS core info</a></span></li><li><span><a href="page804850242.html">061 How to get code line info when debug the issue of app and kernel</a></span></li><li><span><a href="page830761561.html">062_How to write a spec</a></span></li><li><span><a href="page839804914.html">063_How_to_print_compile_command_for_DPDK</a></span></li><li><span><a href="page1402686023.html">064_How_to_test_auto_healing_for_vRAN2.0</a></span></li><li><span><a href="page1373310896.html">git | useful git commands</a></span></li><li><span><a href="page1129765404.html">how to build knife rpm package for 5G</a></span></li><li><span><a href="page1458893820.html">onenote | 2016版本onenote安装及快捷键配置</a></span></li><li><span><a href="page548560900.html">TestCenter Guide</a></span></li><li><span><a href="page1102800877.html">vdu</a></span></li></ul></li></ul>
</div>
</div>
<div id="content" class="split">
<div class='wiki-page'>
<div class='wiki-title'>
<h1 class='page-title-lvl-cover' id='Bookmark293'>043_Performance_capacity_test</h1>
</div>
<div class='wiki-content'>
<a name="Bookmark294"></a><h2 id="Bookmark294">There are two ways to test the performance</h2><ul><li><a name="Bookmark295"></a><h2 id="Bookmark295">Establish some sccp connections , then send dt1 and udt.(this case has be modified into automation test case )</h2></li><li><a name="Bookmark296"></a><h2 id="Bookmark296">Establish sccp connections for some seconds, then release and establish the connections at the same rate, and send udt/dt1 at the same time</h2></li></ul><p> </p><a name="Bookmark297"></a><h2 id="Bookmark297"><strong>Establish some sccp connections , then send dt1 and udt. <br /></strong></h2><p> </p><div><a name="Bookmark298"></a><h3 id="Bookmark298">1. script step</h3><p><strong>---------------------------------pet basic configure --------------------------------------</strong></p></div><p>#!/bin/bash</p><p>uscp_num=12</p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_config 1 20 100&quot;    </strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>1 --- pet switch on</em></p><p><em>20 ----send </em><em>times every second <br /></em></p><p><em>100 ---- sample</em><em> per 100 packets<br /></em></p></div></div><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;set_cr_rsp_with_cc 0 3&quot;</strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>set cr response with cc  on ss7sim</em></p></div></div><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_config 1 10 100 $uscp_num 1001 1032&quot;</strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>#1 --- pet switch on</em></p><p><em>#10 --- </em><em>send </em><em>times every second </em></p><p><em>#100 --- </em><em> sample</em><em> per 100 packets</em></p><p><em>#1001 --- </em><em>start point code id<br /></em></p><p><em>#1032 --- </em><em>stop point code id</em></p></div></div><p>i=0</p><p>while [ $i -lt $uscp_num ]</p><p>do</p><p><strong>   ./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;USCP $i iuvprb set_cr_rsp_with_cc 0  8&quot;</strong></p><p><strong>   ./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;USCP $i iuvprb set_auto_refresh_switch ON&quot;</strong></p><p>   let i+=1</p><p>done</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>#</em><em>set iuv </em><em>to response CC</em></p><p><em>#refresh iuv/sor hand</em><em>， or after 100s</em><em>， hand will be released</em></p></div></div><p> </p><p>---------------------------configure sccp connections from mcRNC--------------------------------</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_gen send_cr 1 50 142 333 1001 4&quot;</strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>#1 --- </em><em>start user id<br /></em></p><p><em>#50 — data </em><em>packets number per time<br /></em></p><p><em>#142 --- ssn</em></p><p><em>#333 --- opc</em></p><p><em>#1001 ---- </em><em>start point code<br /></em></p><p>#4 --- CR data length</p></div></div><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_start&quot;</strong></p><p>sleep 60</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_stop&quot;</strong></p><p>sleep 1</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_get&quot;</strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>#</em><em>connection configure rate： </em><em><em>send </em><em>times every second </em><em>*packets number per second </em></em></p><p><em>  </em><em>connection num： </em><em>rate*sleep times</em></p><p><em>#<em>For example</em><em>：</em></em></p><p><em>                        <em>connection configure rate</em>:</em><em> 20*50 =1000pps</em></p><p><em>                       </em><em><em>connection number</em>：1000*60= 60000</em></p></div></div><p><em><br /></em></p><p>------------------------------------------ sccp connection from CN command-----------------------------------------</p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_gen send_cr 1 70 142 1001 333 4&quot;</strong></p><p> </p><p>-------------------------------------set  udt/dt1 rate configuration---------------------------------------</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_gen send_udt_dt1 udt 142 333 1001 480 dt1 1 2000 4800 msg 180 1&quot;</strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>#</em><em>this command is mcRNC</em><em> send udt</em><em>&amp;dt1</em></p><p><em>#142 --- ssn</em></p><p><em>#333 --- opc</em></p><p><em>#1001 --- </em><em>start pc</em></p><p><em>#480 ---  </em><em>send udt</em><em> rate <br /></em></p><p><em>#1 --- </em><em>start user id</em></p><p><em>#2000  --- </em><em>end user id</em><em>, 1-2000 is used to send dt1, for example , 10000connections are created</em><em>，but 2000 </em><em>send dt1 </em></p><p><em>#4800 --- dt1 </em><em>rate</em></p><p><em>#180 --- dt1 </em><em>data  length</em></p><p><em>NOTE: <em> udt</em><em>/dt1  </em><em>rate devide uscp number should be integer</em><br /></em></p></div></div><p><strong><br /></strong></p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_gen send_udt_dt1 udt 142 1001 333 25 dt1 1 2000 225 msg 180&quot;</strong></p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><em>#</em><em>this command is used to CN</em><em> send udt</em><em> and dt1</em></p><p><em>#142 --- ssn</em></p><p><em>#1001 --- </em><em>start opc</em><em>，end PC</em><em>(hard code</em><em> 1032)</em></p><p><em>#333 --- dpc</em></p><p><em>#25 ---  </em><em>udt packet per time</em></p><p><em>#1 --- </em><em>start user id</em></p><p><em>#2000  --- </em><em>end user id</em><em> : <em>1-2000 is used to send dt1, for example , 10000connections are created</em><em>，but 2000 </em><em>send dt1 </em></em></p><p><em>#225 --- </em><em>dt1 packet per time</em></p><p><em>#180 --- dt1 </em><em>data  length</em></p><p><em>NOTE:<em> </em><em>rate </em><em>udt</em><em>：20*25</em><em>，dt1</em><em>： 20*225</em><br /></em></p></div></div><p> </p><p>-----------------------------------mcRNC &amp;CN begin to send packets --------------------------------</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_start&quot;</strong></p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_start&quot;</strong></p><p>sleep 60   <em>#60 --- case </em><em>during time </em></p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_stop&quot;</strong></p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_stop&quot;</strong></p><p>sleep 1</p><p>-----------------------------------get mcRNC &amp;CN <em>result statistics </em>----------------------------------</p><p>echo &quot;==================PET Test Begin at `date`========================&quot; &gt;&gt; result.txt</p><p>echo &quot;get dt1 result from CN&quot;&gt;&gt;result.txt</p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_get&quot;&gt;&gt;result.txt</strong></p><p><em>#</em><em>get CN </em><em>dt1</em><em> result<br /></em></p><p>echo &quot;get udt result from CN&quot;&gt;&gt;result.txt</p><p><strong>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_get_udt&quot;&gt;&gt;result.txt</strong></p><p><em>#</em><em>get CN</em><em> udt result</em></p><p>echo &quot;get dt1 result from mcRNC&quot;&gt;&gt;result.txt</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_get&quot;&gt;&gt;result.txt</strong></p><p><em>#</em><em>get mcRNC</em><em> get dt1</em><em> result<br /></em></p><p>echo &quot;get udt result from mcRNC&quot;&gt;&gt;result.txt</p><p><strong>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_get_udt&quot;&gt;&gt;result.txt</strong></p><p><em>#</em><em><em>get mcRNC</em><em> get ut1</em><em> result</em></em></p><p>echo &quot;==================PET Test Complete at `date`========================&quot; &gt;&gt; result.txt</p><div><p> </p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong> resut:</strong></p><p>==================PET Test Begin at Tue Nov 18 19:01:36 CST 2014=====================</p><p>get dt1 result from CN</p><p>cmd dest ip: 10.68.157.17, port: 11111, timeout: 10</p><p>send message succeed: pet_get</p><p> </p><p>start receiving.</p><p>receve message:</p><p>CN pet_get successful[RATE:4592][NUM:46080]  #CN receive dt1 rate and number(it is same from mcRNC)。</p><p>SND DT1: [RATE:4521][NUM:45000] #CN send dt1 rate and num</p><p> </p><p>get udt result from CN</p><p>cmd dest ip: 10.68.157.17, port: 11111, timeout: 10</p><p>send message succeed: pet_get_udt</p><p> </p><p>start receiving.</p><p>receve message:</p><p>CN pet_get successful[RATE:466][NUM:4608]  #CN receive udt1 rate and number(it is same from mcRNC)。</p><p>SND UDT: [RATE:502][NUM:5000] #CN send udt1 rate and num</p><p> </p><p>get dt1 result from mcRNC</p><p>cmd dest ip: 10.68.156.231, port: 10010, timeout: 10</p><p>send message succeed: CFCP 0 sptprb pet_get</p><p> </p><p>start receiving.</p><p>receve message:</p><p>sptprb process pet_get successfully[RATE:4560][NUM:45000]   #mcRNC receive dt1 rate and number</p><p> </p><p>get udt result from mcRNC</p><p>cmd dest ip: 10.68.156.231, port: 10010, timeout: 10</p><p>send message succeed: CFCP 0 sptprb pet_get_udt</p><p> </p><p>start receiving.</p><p>receve message:</p><p>sptprb process pet_get successfully[UDT_RATE:516][UDT_NUM:5000] #mcRNC receive udt rate and number</p><p> </p><p>NOTE: when sending cr from the mcRNC , because the timer is not accurate, so the real rate is about 80% of setting rate. for example, setting rate is 500pps, the real rate is about 400pps.</p><p>when sending cr from CN, the rate is accurate.</p><p> </p></div></div><p> </p></div><a name="Bookmark299"></a><h2 id="Bookmark299"><strong>//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</strong></h2><a name="Bookmark300"></a><h2 id="Bookmark300"><strong>Establish sccp connections for some seconds, then release and establish at same rate, and send udt/dt1 at the same time：</strong></h2><p><img style="margin: 2px; border: 1px solid #ddd; box-sizing: border-box; vertical-align: text-bottom;" src="img_125.png" width="250" height="250" /><strong></strong></p><a name="Bookmark301"></a><h3 id="Bookmark301">aaa.sh is a script to establish the sccp connections and send the dt1&amp;udt, aslo calculate the rate and generate the report.</h3><p>#!/bin/bash</p><p>duration=90   ---<strong>- 0-90s establish sccp connections </strong><strong>，release and establish at the same time from 91s</strong><strong>，one connection keep 90s</strong></p><p>dt1_num=9   -----<strong>send 9 dt1 on one sccp connections</strong></p><p>cr_rate=2400 — <strong>CR rate</strong></p><p>udt_rate=2400  ---- <strong>udt rate</strong></p><p>case_duration=180 #sec    ----- <strong>release &amp; establish connection and send dt1&amp; udt for 180s</strong></p><p>uscp_num=24    -------- USCP number which is used</p><p>min_dpc=1001   -----<strong> start dpc</strong></p><p>max_dpc=1032   -----<strong>end dpc</strong></p><p>min_user_id=100   —- <strong>start user id</strong></p><p>max_user_id=30000   ---- <strong>end user id</strong></p><p> </p><p>var=`echo &quot;$cr_rate*($dt1_num*2+3)+$udt_rate*2&quot;|bc`</p><p>echo 'total rate is: '$var'pps'</p><p><strong># these commands are used to set_cr_rsp_with_cc and set auto refresh on every uscp</strong></p><p>i=0</p><p>while [ $i -lt $uscp_num ]</p><p>do</p><p>   ./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;USCP $i iuvprb set_cr_rsp_with_cc 0  8&quot;</p><p>   ./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;USCP $i iuvprb set_auto_refresh_switch ON&quot;</p><p>   let i+=1</p><p>done</p><p> </p><p><strong># these commands are used to set_cr_rsp_with_cc on CN.</strong></p><p>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;pet_config 1 20 1000&quot;</p><p>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;set_cr_rsp_with_cc 0 3&quot;</p><p>./sctp_cli $DAEMON_FPC_IP $DAEMON_CN_PORT 10 &quot;traffic_reflactor 1&quot;</p><p> </p><p><strong># set the parameter to sptprb</strong></p><p>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_cfg cr_rate $cr_rate duration $duration dt1_num $dt1_num udt_rate $udt_rate min_uid $min_user_id max_uid $max_user_id min_dpc $min_dpc max_dpc $max_dpc iuv_num $uscp_num cr_len 50 dt1_len 99 udt_len 88 lcl_pc 333 ssn 142 pet_switch 1 stat_pkg_num 1000 refresh_hand 1 udt_data 99&quot;</p><p><strong>#configure the sccp connection for $duration=90s </strong></p><p> </p><p>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_ctrl start&quot;</p><p> </p><p>sleep $duration</p><p> </p><p><strong># send dt1&amp;udt for $case_duration =180s</strong></p><p>tick=0</p><p>while [ $tick -lt $case_duration ]</p><p>do</p><p>    date</p><p>    sleep 10</p><p>    ./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_query&quot;</p><p>    let tick+=10</p><p>done</p><p> </p><p><strong># pet_ctrl stop and wait the sccp connection release</strong></p><p> </p><p>./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_ctrl stop&quot;</p><p> </p><p>for left_time in `seq -w $duration -1 1`</p><p>  do</p><p>    echo -ne &quot;\b\b\b\b$left_time&quot;;</p><p>    sleep 1;</p><p>  done</p><p> </p><p>echo</p><p>echo -e &quot;\b\b\b\bIf all connections released, press any key to get final result!&quot;</p><p> </p><p>read</p><p><strong># generate the final report</strong></p><p> ./sctp_cli $DAEMON_FGW_IP $DAEMON_IUV_RANAPD_PORT 10 &quot;CFCP 0 sptprb pet_query&quot;</p><p> </p><p>var=`echo &quot;$cr_rate*($dt1_num*2+3)+$udt_rate*2&quot;|bc`</p><p>echo 'total rate is: '$var'pps'</p><p> </p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p> </p><p><strong>The rate calculate:</strong></p><p><strong>cr rate (dt1_num*2+cr+cc+rld) + udt_rate*2 = 2400(9*2+3)+2400*2 =55200</strong></p><p><strong>the keep sccp connection number when send dt1&amp;udt： 2400*90 *factor（because spt timer is not accurate，the factor is about 0.8）</strong></p><p> </p></div></div><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>case step:</p><p>setup： configure the sigtran resource(execute 'cpsetup' on FPC: 10.56.212.9)</p><ol><li>copy the common_bash to RNC from FPC<br />scp /home/public/SS_ILFT/Testenv/FPC/common_pc_test_env_bashrc_cp_b2 10.68.156.<a class="external-link" href="http://115/root" rel="nofollow">115:/root</a></li><li>copy the aaa.sh to RNC</li><li>source the common bash <br />source common_pc_test_env_bashrc_cp_b2</li><li>cd /opt/Nokia/SS_ILFT/bin</li><li>execute aaa.sh and monitoring.sh(monitor the cpu and memory), also collect the syslog.<br /><p>/root/aaa.sh</p><p>/root/monitoring</p></li><li><p>kill the monitoring process when aaa.sh execute completely</p><p> </p><br /><br /></li></ol></div></div><p><img style="margin: 2px; border: 1px solid #ddd; box-sizing: border-box; vertical-align: text-bottom;" src="img_126.png" width="250" height="250" /></p><p> </p><p> </p><a name="Bookmark302"></a><h2 id="Bookmark302">Related articles</h2><p></p><p>











</p><ul class="content-by-label">
        <li>
        <div>
                <span class="icon aui-icon content-type-page" title="Page">Page:</span>        </div>

        <div class="details">
                        <a href="page1458893820.html#Bookmark414" title="onenote | 2016版本onenote安装及快捷键配置">onenote | 2016版本onenote安装及快捷键配置</a>
                
                        
                    </div>
    </li>
        <li>
        <div>
                <span class="icon aui-icon content-type-page" title="Page">Page:</span>        </div>

        <div class="details">
                        <a href="page1373310896.html#Bookmark408" title="git | useful git commands">git | useful git commands</a>
                
                        
                    </div>
    </li>
        <li>
        <div>
                <span class="icon aui-icon content-type-page" title="Page">Page:</span>        </div>

        <div class="details">
                        <a href="page1129765404.html#Bookmark409" title="how to build knife rpm package for 5G">how to build knife rpm package for 5G</a>
                
                        
                    </div>
    </li>
        <li>
        <div>
                <span class="icon aui-icon content-type-page" title="Page">Page:</span>        </div>

        <div class="details">
                        <a href="https://confluence.ext.net.nokia.com/display/touchdownTDS/040_UT_basic_introduce" title="https://confluence.ext.net.nokia.com/display/touchdownTDS/040_UT_basic_introduce">040_UT_basic_introduce</a>
                
                        
                    </div>
    </li>
        <li>
        <div>
                <span class="icon aui-icon content-type-page" title="Page">Page:</span>        </div>

        <div class="details">
                        <a href="page839804914.html#Bookmark396" title="063_How_to_print_compile_command_for_DPDK">063_How_to_print_compile_command_for_DPDK</a>
                
                        
                    </div>
    </li>
    </ul>
</div>
</div>
</div>
</div>
<script>
Split(['#sidebar', '#content'], {
    sizes: [15, 85],
    minSize: 100
});
</script>

</body>
</html>
